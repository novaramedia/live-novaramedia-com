{"version":3,"sources":["main.js"],"names":["animationLength","$mainContent","$","$jsLive","layout","footerHeight","headerHeight","windowHeight","window","height","outerHeight","css","min-height","liveStatus","live","show","hide","player","init","offline","jPlayer","ready","this","title","mp3","cssSelectorAncestor","swfPath","supplied","useStateClassSkin","autoBlur","smoothPlayBar","keyEnabled","bind","event","play","pause","latestPosts","visible","$container","$latestFm","$latestTv","$latestWire","initFmTv","_this","getJSON","data","posts_insert","each","posts","i","item","push","permalink","thumb_medium","join","prependTo","initWire","author","jQuery","document","getScript","isLive","setInterval","resize","click","slideToggle","t","imagesLoaded","masonry"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document */\n\nvar animationLength = 200;\nvar $mainContent = $('#main-content');\nvar $jsLive = $('.js-live');\n\nvar layout = function() {\n  var footerHeight, headerHeight, windowHeight;\n  windowHeight = $(window).height();\n  headerHeight = $('#header').outerHeight(true);\n  footerHeight = $('#footer').outerHeight(true);\n  return $mainContent.css({\n    'min-height': (windowHeight - headerHeight - footerHeight) + 'px'\n  });\n};\n\nvar liveStatus = {\n  live: function() {\n    $jsLive.show();\n    $('.js-offline').hide();\n    player.init();\n  },\n  offline: function() {\n    $('.js-offline').show();\n    $jsLive.hide();\n  }\n};\n\nvar player = {\n  init: function() {\n    $('#jplayer').jPlayer({\n      ready: function () {\n        $(this).jPlayer('setMedia', {\n          title: 'resonancefm',\n          mp3: 'http://radio.canstream.co.uk:8004/live.mp3',\n        });\n      },\n      cssSelectorAncestor: '#jp_container_1',\n      swfPath: '/js',\n      supplied: 'mp3',\n      useStateClassSkin: true,\n      autoBlur: false,\n      smoothPlayBar: true,\n      keyEnabled: true,\n    }).bind($.jPlayer.event.play, function() {\n      $('.jp-play').hide();\n      $('.jp-stop').show();\n    }).bind($.jPlayer.event.pause, function() {\n      $('.jp-stop').hide();\n      $('.jp-play').show();\n    });\n  }\n};\n\nvar latestPosts = {\n  visible: false,\n  $container: $('#latest'),\n  $latestFm: $('#latest-fm'),\n  $latestTv: $('#latest-tv'),\n  $latestWire: $('#latest-wire'),\n  initFmTv: function() {\n    var _this = this;\n\n    $.getJSON('http://novaramedia.com/api/fm/?callback=?', null, function(data) {\n      var posts_insert = [];\n\n      $.each(data.posts, function(i, item) {\n        if (i > 4) {\n          return false;\n        }\n\n        posts_insert.push('<a target=\"_blank\" href=\"' + item.permalink + '\"><li class=\"latest-post\"><div class=\"latest-post-wrapper\"><img src=\"' + item.thumb_medium + '\"/><h3>'+ item.title + '</h3></div></li></a>');\n      });\n      $(posts_insert.join('')).prependTo(_this.$latestFm);\n\n      if (!_this.visible) {\n        _this.$container.show();\n      }\n    });\n\n    $.getJSON('http://novaramedia.com/api/tv/?callback=?', null, function(data) {\n      var posts_insert = [];\n\n      $.each(data.posts, function(i, item) {\n        if (i > 4) {\n          return false;\n        }\n\n        posts_insert.push('<a target=\"_blank\" href=\"' + item.permalink + '\"><li class=\"latest-post\"><div class=\"latest-post-wrapper\"><img src=\"' + item.thumb_medium + '\"/><h3>'+ item.title + '</h3></div></li></a>');\n      });\n      $(posts_insert.join('')).prependTo(_this.$latestTv);\n\n      if (!_this.visible) {\n        _this.$container.show();\n      }\n    });\n\n  },\n  initWire: function() {\n    var _this = this;\n\n    $.getJSON('http://wire.novaramedia.com/api/all/?callback=?', null, function(data) {\n      var posts_insert = [];\n\n      $.each(data.posts, function(i, item) {\n        if (i > 4) {\n          return false;\n        }\n\n        posts_insert.push('<a target=\"_blank\" href=\"' + item.permalink + '\"><li class=\"latest-post\"><div class=\"latest-post-wrapper\"><img src=\"' + item.thumb_medium + '\"/><h3>'+ item.title + '</h3><h4>by '+ item.author + '</h4></div></li></a>');\n      });\n      $(posts_insert.join('')).prependTo(_this.$latestWire);\n\n      if (!_this.visible) {\n        _this.$container.show();\n      }\n    });\n\n  },\n  init: function() {\n    this.initFmTv();\n    this.initWire();\n  }\n};\n\njQuery(document).ready(function($) {\n\n  $.getScript('http://tools.novaramedia.com/tool/novara_live/schedule.min.js', function() {\n    if (isLive()) {\n      liveStatus.live();\n    }\n\n    setInterval((function() {\n      if (isLive()) {\n        liveStatus.live();\n      } else {\n        liveStatus.offline();\n      }\n    }), 15000);\n  });\n\n  latestPosts.init();\n\n  layout();\n  $(window).resize(function() {\n    return layout();\n  });\n\n  $('.js-toggle-drawer').click(function() {\n    return $('#drawer-main').slideToggle(animationLength);\n  });\n\n  $('.masonry').each(function() {\n    var t;\n    t = $(this);\n    return $(this).imagesLoaded(function() {\n      return t.masonry();\n    });\n  });\n});"],"sourceRoot":"/source/"}